{"ast":null,"code":"var _jsxFileName = \"/Users/differwor/Documents/P - Work/redux-saga/project-3/src/container/Client/TodoList/components/TodoFilter/TodoFilter.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, forwardRef, useMemo } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { useAppDispatch, useAppSelector } from '../../../../../app/hooks';\nimport { TodoStatus } from \"../../../../../models/todo\";\nimport { getDateString, getStatus } from \"../../../../../utils/utils\";\nimport { changeFilterType, setSelectedDate } from \"../../module/todosSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction TodoFilter() {\n  _s();\n  const dispatch = useAppDispatch();\n  const selectStore = useAppSelector(state => state.todos);\n  const [showAll, setShowAll] = useState(true);\n  const [startDate, setStartDate] = useState(new Date(selectStore.selectedDate));\n  const filterStatus = useMemo(() => getStatus(selectStore.filter.byStatus), [selectStore.filter.byStatus]);\n  const handleChangeStatus = () => {\n    Object.values(TodoStatus).every((status, index) => {\n      if (selectStore.filter.byStatus === status) {\n        let arrStatus = Object.values(TodoStatus);\n        dispatch(changeFilterType({\n          byStatus: arrStatus[arrStatus.length === index + 1 ? 0 : index + 1]\n        })); // number of status\n        return false;\n      }\n      return true;\n    });\n  };\n  const handleOnChange = date => {\n    setStartDate(date);\n    dispatch(setSelectedDate(getDateString(date)));\n  };\n  const ExampleCustomInput = /*#__PURE__*/forwardRef((_ref, ref) => {\n    let {\n      value,\n      onClick\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"example-custom-input\",\n      onClick: onClick,\n      ref: ref,\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this);\n  });\n  console.log('render date');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: `bg-white ${!showAll ? 'text-black border-gray-400' : 'text-white bg-black'} font-semibold py-[0.2rem] px-4 border shadow rounded-lg mr-2`,\n      onClick: () => {\n        setShowAll(showAll ? false : true);\n        dispatch(changeFilterType({\n          byDate: showAll ? true : false\n        }));\n      },\n      children: \"All\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex min-w-[120px] items-center justify-center hover:bg-gray-100 border border-gray-400 shadow rounded-lg text-black\",\n      children: /*#__PURE__*/_jsxDEV(DatePicker, {\n        selected: startDate,\n        onChange: handleOnChange,\n        dateFormat: \"dd/MM/yyyy\",\n        disabled: !showAll ? false : true,\n        highlightDates: selectStore.notedDate.map(date => new Date(date)),\n        placeholderText: \"This highlights a week ago and a week from today\",\n        customInput: /*#__PURE__*/_jsxDEV(ExampleCustomInput, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 26\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleChangeStatus,\n      className: \"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-[0.2rem] px-4 min-w-[120px] border border-gray-400 shadow rounded-lg ml-2\",\n      children: filterStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(TodoFilter, \"xmFi6ARmJ/kzZqiHYwHscGgD1Jc=\", false, function () {\n  return [useAppDispatch, useAppSelector];\n});\n_c = TodoFilter;\nexport default _c2 = /*#__PURE__*/React.memo(TodoFilter);\nvar _c, _c2;\n$RefreshReg$(_c, \"TodoFilter\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useState","forwardRef","useMemo","DatePicker","useAppDispatch","useAppSelector","TodoStatus","getDateString","getStatus","changeFilterType","setSelectedDate","TodoFilter","dispatch","selectStore","state","todos","showAll","setShowAll","startDate","setStartDate","Date","selectedDate","filterStatus","filter","byStatus","handleChangeStatus","Object","values","every","status","index","arrStatus","length","handleOnChange","date","ExampleCustomInput","ref","value","onClick","console","log","byDate","notedDate","map","memo"],"sources":["/Users/differwor/Documents/P - Work/redux-saga/project-3/src/container/Client/TodoList/components/TodoFilter/TodoFilter.tsx"],"sourcesContent":["import React, { useState, forwardRef, useMemo } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { useAppDispatch, useAppSelector } from '../../../../../app/hooks';\r\nimport { AppDispatch } from \"../../../../../app/store\";\r\nimport { TodoStatus } from \"../../../../../models/todo\";\r\nimport { getDateString, getStatus } from \"../../../../../utils/utils\";\r\nimport { changeFilterType, setSelectedDate } from \"../../module/todosSlice\";\r\n\r\nfunction TodoFilter() {\r\n  const dispatch: AppDispatch = useAppDispatch();\r\n  \r\n  const selectStore = useAppSelector((state) => state.todos);\r\n\r\n  const [showAll, setShowAll] = useState<boolean>(true);\r\n  const [startDate, setStartDate] = useState<Date>(new Date(selectStore.selectedDate));\r\n\r\n  const filterStatus = useMemo(() => getStatus(selectStore.filter.byStatus), [selectStore.filter.byStatus]);\r\n     \r\n  const handleChangeStatus = () => {\r\n    Object.values(TodoStatus).every((status, index) => {\r\n      if (selectStore.filter.byStatus === status) {\r\n        let arrStatus = Object.values(TodoStatus);\r\n        dispatch(changeFilterType({byStatus: arrStatus[(arrStatus.length === (index + 1) ? 0 : index + 1)]})); // number of status\r\n          return false;\r\n        }\r\n        return true;\r\n    });\r\n  };\r\n  \r\n  const handleOnChange = (date: Date) => {\r\n    setStartDate(date);\r\n    dispatch(setSelectedDate(getDateString(date)));\r\n  }\r\n\r\n  const ExampleCustomInput: any = forwardRef(({ value, onClick }: { value: string, onClick: React.MouseEventHandler<HTMLButtonElement> }, ref: React.LegacyRef<HTMLButtonElement> | undefined) => (\r\n    <button className=\"example-custom-input\" onClick={onClick} ref={ref}>\r\n      {value}\r\n    </button>\r\n  ));\r\n\r\n  console.log('render date')\r\n  return (\r\n    <>  \r\n      <button className={`bg-white ${!showAll ? 'text-black border-gray-400' : 'text-white bg-black'} font-semibold py-[0.2rem] px-4 border shadow rounded-lg mr-2`} onClick={() => {setShowAll(showAll ? false : true); dispatch(changeFilterType({byDate: showAll ? true : false}))}}>\r\n        All\r\n      </button>\r\n      <div className='flex min-w-[120px] items-center justify-center hover:bg-gray-100 border border-gray-400 shadow rounded-lg text-black'>\r\n          <DatePicker\r\n            selected={startDate}\r\n            onChange={handleOnChange}\r\n            dateFormat=\"dd/MM/yyyy\"\r\n            disabled={!showAll ? false : true}\r\n            highlightDates={selectStore.notedDate.map((date) => new Date(date))}\r\n            placeholderText=\"This highlights a week ago and a week from today\"\r\n            customInput={<ExampleCustomInput />}\r\n          />\r\n      </div>\r\n      <button onClick={handleChangeStatus} className=\"bg-white hover:bg-gray-100 text-gray-800 font-semibold py-[0.2rem] px-4 min-w-[120px] border border-gray-400 shadow rounded-lg ml-2\">\r\n        { filterStatus }\r\n      </button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default React.memo(TodoFilter);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}